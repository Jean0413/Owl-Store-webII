<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<title>Tienda</title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body class="shadow">
		<header>
			<div>
				<div>
					<a href="index.html" class="title nav-link active">
						<img src="imagenes/logo_1.png" alt="logo" class="logo">
						<h1>Owl Store </h1>
						
					</a>
				</div>
			</div>
			<nav class="navbar navbar-expand-lg bg-body-tertiary">
				<div class="container-fluid">
					
				  <a class="navbar-brand bg-warning " href="#">OwlStore.com</a>
				  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				  </button>
				  <div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					  <li class="nav-item">
						<a class="nav-link active" aria-current="page" href="#">Inicio</a>
					  </li>
					  <li class="nav-item">
						<a class="nav-link" href="login.html"><i class="bi bi-person-fill"></i> Ingresar</a>
					  </li>
					  <li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
						  Categorías
						</a>
						<ul class="dropdown-menu">
						  <li><a class="dropdown-item" href="#">Pantalones</a></li>
						  <li><a class="dropdown-item" href="#">Perfumes</a></li>
						  <li><a class="dropdown-item" href="#">Zapatos</a></li>
						  <li><hr class="dropdown-divider"></li>
						  <li><a class="dropdown-item" href="#">Sobre Nosotros</a></li>
						</ul>
					  </li>
					  <li class="nav-item">
						<a class="nav-link disabled" aria-disabled="true"></a>
					  </li>
					  <li class="nav-item">
                        <div class="container-icon">
							<div class="container-cart-icon">
								<img src="imagenes/cart.png" alt="cart"class="icon-cart">
							<div class="count-products">
								<span id="contador-productos">0</span>
							</div>
			
							</div>
							
							<div class="container-cart-products hidden-cart">
								<div class="row-product">
									<div class="cart-product">
									<div class="info-cart-product">
										<span class="cantidad-producto-carrito">1</span>
										<p class="titulo-producto-carrito">Zapatos Nike</p>
										<span class="precio-producto-carrito">$80</span>
									</div>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										fill="none"
										viewBox="0 0 24 24"
										stroke-width="1.5"
										stroke="currentColor"
										class="icon-close"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M6 18L18 6M6 6l12 12"
										/>
									</svg>
								</div>
								</div>

								<div class="cart-total">
									<h3>Total:</h3>
									<span class="total-pagar">$200</span>
								</div>
							</div>
						</div>
					</ul>
					<form class="d-flex" role="search">
					  <input class="form-control me-2" type="search" placeholder="Buscar" aria-label="Search">
					  <button class="btn btn-outline-warning border border-warning text-dark " type="submit">Buscar</button>
					</form>
				  </div>
				</div>
			  </nav>
		</header>
			<div id="carouselExampleIndicators" class="carousel slide">
			<div class="carousel-indicators">
			  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
			  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
			  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
			  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button>
			</div>
			<div class="carousel-inner">
			  <div class="carousel-item active">
				<a href="#"><img src="imagenes/perfumes-vainilla-6459484490104.jpeg" class="d-block w-100" alt="perfume"></a>
			  </div>
			  <div class="carousel-item">
				<a href="#"><img src="imagenes/568455521_176372061_1706x960.jpeg" class="d-block w-100" alt="jeans"></a>
			  </div>
			  <div class="carousel-item">
				<a href="#"><img src="imagenes/chaqueta-3-en-1-basic-hombre-100-poly-gris-t-s.jpeg" class="d-block w-100" alt="chaqueta"></a>
			  </div>
			  <div class="carousel-item">
				<a href="#"><img src="imagenes/mochila.jpeg" class="d-block w-100" alt="mochila"></a>
			  </div>
			</div>
			<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
			  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
			  <span class="visually-hidden">Previous</span>
			</button>
			<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
			  <span class="carousel-control-next-icon" aria-hidden="true"></span>
			  <span class="visually-hidden">Next</span>
			</button>
		  </div>
		  <br>
		<div class="container-items">
			<div class="item">
				<figure>
					<img src="https://intn24.lalr.co/old/su19_jd_theones_nikenews_aj1_low_gymred_rectangle_1600.jpg" alt="producto">
				</figure>				
				<div class="info-product">
					<h2>Zapatos</h2>
					<p class="price">$80</p>
					<button class="btn-add-cart">Añadir al carrito </button>
				</div>
			</div>
			<div class="item">
				<figure>
					<img src="https://cadtoner.com.mx/9551-large_default/audifonos-bluetooth-y-manos-libres-con-bateria-de-hasta-24-hrs-marca-steren.jpg" alt="producto">
				</figure>
				
				<div class="info-product">
					<h2>Audifonos</h2>
					<p class="price">$20</p>
					<button class="btn-add-cart">Añadir al carrito </button>
					
				</div>
			</div>
			<div class="item">
				<figure>
					<img src="https://i.pinimg.com/736x/77/05/6e/77056e7d422f441d0bba7508e0146785.jpg" alt="producto">
				</figure>
				<div class="info-product">
					<h2>Reloj</h2>
					<p class="price">$50</p>
					<button class="btn-add-cart">Añadir al carrito</button>
				</div>
			</div>
			<div class="item">
				<figure>
					<img src="https://media.es.wired.com/photos/64ee4f3f36da5369eab4afdb/1:1/w_1304,h_1304,c_limit/Apple-Watch-Ultra-New-Gear.jpg" alt="producto">
				</figure>
				<div class="info-product">
					<h2>Smartwatch</h2>
					<p class="price">$90</p>
					<button class="btn-add-cart">Añadir al carrito</button>
				</div>
			</div>
			<div class="item">
				<figure>
					<img src="https://hips.hearstapps.com/hmg-prod/images/home-dior-1643269404.jpg?resize=1200:*" alt="producto">
				</figure>
				<div class="info-product">
					<h2>Perfume</h2>
					<p class="price">$50</p>
					<button class="btn-add-cart">Añadir al carrito</button>
				</div>
			</div>
			<div class="item">
				<figure>
					<img src="https://images.boardriders.com/global/billabong-products/all/default/large/z3jk20bif1_billabong,v_4194_frt1.jpg" alt="producto">
				</figure>
				<div class="info-product">
					<h2>Abrigo</h2>
					<p class="price">$50</p>
					<button class="btn-add-cart">Añadir al carrito</button>
				</div>
			</div>
		</div>
		<script>
			const btnCart = document.querySelector('.container-cart-icon')
			const containerCartProducts = document.querySelector('.container-cart-products')
			btnCart.addEventListener('click', () => {
				containerCartProducts.classList.toggle('hidden-cart')
			})

			const cartInfo=document.querySelector('.cart-product')
			const rowProduct=document.querySelector('.row-product')
			const productList=document.querySelector('.container-items')
			let allProducts=[]
			const valortotal= document.querySelector('.total-pagar')
			const countProducts=document.querySelector('#contador-productos')

			productList.addEventListener('click', e =>{
				if(e.target.classList.contains('btn-add-cart')){
					const product=e.target.parentElement
					const infoProduct={
						quantity: 1,
						title: product.querySelector('h2').textContent,
						price: product.querySelector('p').textContent,
					}
					const exist = allProducts.some(product=>product.title===infoProduct.title)
					if(exist){
						const products = allProducts.map(product=>{
							if(product.title===infoProduct.title){
								product.quantity++;
								return product;

							}
							else{
								return product;
							}
						})
						allProducts=[...products]
					}
					else{
						allProducts=[...allProducts, infoProduct]
					}
					showHTML();
				}
			})
			rowProduct.addEventListener('click', (e)=>{
				if(e.target.classList.contains('icon-close')){
                    const product=e.target.parentElement
                    const title=product.querySelector('p').textContent
                    allProducts=allProducts.filter(product=>product.title!==title)
                    showHTML();
                }
			})

			const showHTML=()=>{
				rowProduct.innerHTML="";
				let total=0;
				let totalOfProducts=0; 
				allProducts.forEach(product =>{
					const containerProduct = document.createElement('div')
					containerProduct.classList.add('cart-product')
					containerProduct.innerHTML=`
						<div class="info-cart-product">
											<span class="cantidad-producto-carrito">${product.quantity}</span>
											<p class="titulo-producto-carrito">${product.title}</p>
											<span class="precio-producto-carrito">${product.price}</span>
										</div>
										<svg
											xmlns="http://www.w3.org/2000/svg"
											fill="none"
											viewBox="0 0 24 24"
											stroke-width="1.5"
											stroke="currentColor"
											class="icon-close"
										>
											<path
												stroke-linecap="round"
												stroke-linejoin="round"
												d="M6 18L18 6M6 6l12 12"
											/>
										</svg>
					
					
					`
					rowProduct.append(containerProduct);
					total = total + parseInt(product.quantity*product.price.slice(1));
					totalOfProducts=totalOfProducts+product.quantity;
				})
				valortotal.innerText = `$${total}`
				countProducts.innerText =totalOfProducts;
			}
		</script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
		
	</body>
</html>